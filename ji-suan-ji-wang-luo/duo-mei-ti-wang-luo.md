# 多媒体网络

## 9.1 多媒体网络应用

视频最显著的特点：高比特率

## 9.2 流式存储视频

流式存储视频：UDP流、HTTP流、适应性HTTP流

广泛应用客户端应用缓存，以此缓解变化的端到端时延和变化的服务器和客户之间带宽量的影响

B：用户应用缓存的长度
Q: 客户应用缓存开始播放之前必须被缓存的比特数
r: 视频消耗速率
x：服务器以恒定速率发送比特，也可以是和时间相关的x(t)

## 9.5 支持多媒体的网络

对多媒体应用提供网络层支持：
* 尽可能利用尽力而为服务：公平处理所有流量
* 区分服务：不同类型流量处理不同
* **每连接服务质量(QoS)**保证：每个源到目的地流处理不同，每个应用显式的预约端到端带宽，并因此具有确定的端到端性能。
  
### 每连接服务质量保证

* 标记分组是为了路由器区分不同类型流量的分组
* 希望在流量类型之间提供流量隔离的度，以便一类流量不会受到另一类流量的负面影响
* 当为流量类型之间提供隔离的时候，希望尽可能有效的使用资源
* 如果不总是能够提供充分的资源，并且要确保QoS，则需要一个呼叫准入过程，在这个过程中申告其QoS需求，要么被网络准入，要么无法提供而被网络阻塞

#### 监管：漏桶

分组进入令牌等待队列，在漏桶处取得令牌的分组被发送，桶高度不超过b，每秒生成r个令牌加入桶

平均速率：r+b/t(长期后为r)

突发长度：b

要限制峰值速率：在后面串联一个高度为1的桶，速率r’限制峰值速率

#### 漏桶+加权公平队列

$$d_{max}=\frac{b_1}{R*\frac{w_i}{\sum w_j}}$$

